:lib: pass:quotes[_library_]
:libs: pass:quotes[_libraries_]
:j: Java
:fs: functies
:f: functie
:m: method
:icons: font
:source-highlighter: rouge
:am: Access Modifier

//ifdef::env-github[]
:tip-caption: :bulb:
:note-caption: :information_source:
:important-caption: :heavy_exclamation_mark:
:caution-caption: :fire:
:warning-caption: :warning:
//endif::[]

= Space Invaders
//Author Mark Nuyts
//v0.1
:toc: left
:toclevels: 4

In deze oefening gaan we stap voor stap het spel __Space Invaders__ namaken.

== De bestanden

We gaan het spel maken in een html file met gekoppelde javascript en css file.

De html file:

[source,html]
----
<!DOCTYPE HTML>
<html>
	<head>
		<title>Space Invaders</title>
		<link rel="stylesheet" href="invaders.css" >
		<script src="invaders.js"></script>
	</head>
	<body>
	
	</body>
</html>
----

De css file en de javascript file zijn voorlopig leeg.

== De afbeeldingen

In het spel maken we gebruik van enkele afbeeldingen:

* Het ruimteschip
+
image::Char.png[200,150]
+
* De vijand
+
image::Enemy.png[200,150]
+
* Een laserstraal
+
image::Shot.png[200,150]
+
* Een explosie
+
image::explosion-gif.gif[200,150]
+
* Een achtergrond (sterren)
+
image::stars.jpg[Stars,200,150]

== De achergrond toepassen

[source,css]
----
body{
	background-image: url("stars.jpg");
	background-size: cover;
}
html, body {
    height: 100%;
}
----

== Het ruimteschip

[source,html]
----
<body>
	<div id="ruimteveer"></div>
</body>
----

[source,css]
----
#ruimteveer{
	position:fixed;
	background-image: url("Char.png");
	background-size:cover;
	height: 9.8%;
	width: 2.5%;
	left: 50%;
	top: 90%;
}
----

== Reageren op keyboardinput

[source,html]
----
<body onkeydown="keydown(event)">
----

Bijhorende javascript functie die elk keyboard _event_ afprint naar de console.

[source,js]
----
function keydown(event){
	console.log(event.code)
}
----

In deze functie kunnen we vervolgens if statement schrijven die rekening houden met de ArrowLeft of ArrowRight key.

[source,js]
----
var positie = 50; // Het ruimteveer bevindt zich in het midden van het scherm
function keydown(event){
	if (event.code == 'ArrowLeft'){
		beweegNaarLinks(); <1>
	} else if (event.code == 'ArrowRight'){
		beweegNaarRechts(); <2>
	}	
}
function beweegNaarLinks(){
	if (positie > 0){ <3>
		positie = positie - 0.4; <4>		
	}
	beweeg(); <5>
}
function beweegNaarRechts(){
	if (positie < 95){
		positie = positie + 0.4;		
	}
	beweeg();
}
function beweeg(){
	document.getElementById("ruimteveer").style.left = positie + "%"; <6>
	// console.log(document.getElementById('ruimteveer').style.left)
}
----
<1> Wanneer de keycode het pijltje naar links is, roepen we een functie op die het ruimteveer naar links laat bewegen.
<2> Wanneer de keycode het pijltje naar rechts is, roepen we een functie op die het ruimteveer naar rechts laat bewegen.
<3> In dit if statement kijken we na of het ruimteveer zich al helemaal links bevindt op het scherm (dat is de limiet)
<4> Hier maken we de positie wat kleiner (dus meer naar links).
<5> We roepen een functie op die de positie gaat wegschrijven op het div element.
<6> Via de style (css) left van het div element schrijven we de positie weg (hoe ver van de linkerkant van het scherm dat het ruimteveer zich moet bevinden).

